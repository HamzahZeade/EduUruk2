@model List<EduUruk.Models.ViewModels.ControlMenu>

<!--begin::Navbar-->
<div class="d-flex align-items-stretch" id="kt_header_nav">
	<!--begin::Menu wrapper-->
	<div class="header-menu align-items-stretch" data-kt-drawer="true" data-kt-drawer-name="header-menu" data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true" data-kt-drawer-width="{default:'200px', '300px': '250px'}" data-kt-drawer-direction="start" data-kt-drawer-toggle="#kt_header_menu_mobile_toggle" data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_body', lg: '#kt_header_nav'}">
		<!--begin::Menu-->
        <div class="menu menu-lg-rounded menu-column menu-lg-row menu-state-bg menu-title-gray-700 menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-400 fw-bold my-5 my-lg-0 align-items-stretch" id="#kt_header_menu" data-kt-menu="true">
            @foreach (var nav in Model)
            {
                @if (nav.ChildLinks.Count() <= 1)
                {
                    <!--begin:Menu item-->
                    <div class="menu-item menu-lg-down-accordion menu-sub-lg-down-indention me-0 me-lg-2 @(("/" + ViewContext.RouteData.Values["controller"].ToString().ToLower() + "/" + ViewContext.RouteData.Values["action"].ToString().ToLower()) == nav.ChildLinks[0].MenuLink.ToString().ToLower() ? "here" : "")">
                        <!--begin:Menu link-->
                        <a class="menu-link py-3" href="@nav.ChildLinks[0].MenuLink">
                            <span class="menu-title">@nav.MenuTitle</span>
                            <span class="menu-arrow d-lg-none"></span>
                        </a>
                        <!--end:Menu link-->
                    </div>
                    <!--end:Menu item-->
                } else {
                    <!--begin:Menu item-->
                    <div data-kt-menu-trigger="{default: 'click', lg: 'hover'}" data-kt-menu-placement="bottom-end" class="menu-item menu-lg-down-accordion menu-sub-lg-down-indention me-0 me-lg-2 @(nav.ChildLinks.Any(x => x.MenuLink.ToLower() == ("/" + ViewContext.RouteData.Values["controller"].ToString().ToLower() + "/" + ViewContext.RouteData.Values["action"].ToString().ToLower())) ? "here" : "")">
                        <!--begin:Menu link-->
                        <span class="menu-link py-3">
                            <span class="menu-title">@nav.MenuTitle</span>
                            <span class="menu-arrow d-lg-none"></span>
                        </span>
                        <!--end:Menu link-->
                        <!--begin:Menu sub-->
                        <div class="menu-sub menu-sub-lg-down-accordion menu-sub-lg-dropdown px-lg-2 py-lg-4 w-lg-200px">
                        @foreach (var child in nav.ChildLinks)
                        {
                            <!--begin:Menu item-->
                            <div class="menu-item @(("/" + ViewContext.RouteData.Values["controller"].ToString().ToLower() + "/" + ViewContext.RouteData.Values["action"].ToString().ToLower()) == child.MenuLink.ToString().ToLower() ? "here" : "")">
                                <!--begin:Menu link-->
                                <a class="menu-link py-3" href="@child.MenuLink" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-dismiss="click" data-bs-placement="right">
                                    <span class="menu-title">@child.MenuTitle</span>
                                </a>
                                <!--end:Menu link-->
                            </div>
                            <!--end:Menu item-->
                        }
                        </div>
                        <!--end:Menu sub-->
                    </div>
                    <!--end:Menu item-->
                }
            }
        </div>
		<!--end::Menu-->
	</div>
	<!--end::Menu wrapper-->
</div>
<!--end::Navbar-->