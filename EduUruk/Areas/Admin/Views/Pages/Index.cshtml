@{
    ViewBag.Title = SysModelRes.Pages_PageTitle_Index;
}

<!-- Page-Title -->
@section breadcrumb{
  <div class="page-title d-flex flex-column me-3">
    <!--begin::Title-->
    <h1 class="d-flex text-dark fw-bolder my-1 fs-3">عنوان الصفحة الحالية</h1>
    <!--end::Title-->
    <!--begin::Breadcrumb-->
    <ul class="breadcrumb breadcrumb-dot fw-bold text-gray-600 fs-7 my-1">
        <!--begin::Item-->
        <li class="breadcrumb-item text-gray-600">الرئيسية</li>
        <!--end::Item-->
        <!--begin::Item-->
        <li class="breadcrumb-item text-gray-600">الصفحة</li>
        <!--end::Item-->
        <!--begin::Item-->
        <li class="breadcrumb-item text-gray-500">الصفحة الحالية</li>
        <!--end::Item-->
    </ul>
    <!--end::Breadcrumb-->
</div>
}
<div class="row">
    <div class="col-12">
        <div class="card card-xl-stretch mb-5 mb-xl-8">
            <!--begin::Header-->
            <div class="card-header border-0 pt-5">
                <h3 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bolder fs-3 mb-1">@ViewBag.Title</span>
                </h3>
                <div class="card-toolbar">
                    <a class="btn btn-sm btn-info create" data-ajax="true" data-ajax-loading="#loader"
                       data-ajax-loading-duration="100" data-ajax-method="GET" data-ajax-mode="replace" data-ajax-success="FireAccess"
                       data-ajax-update="#AccessSection" href="Create">
                        <i class="fa fa-plus"></i>@GeneralRes.BtnNewText
                    </a>
                </div>
            </div>
            <div class="card-body py-3">
                <div class="card-box table-responsive table-hover table-bordered">
                    <table class="table table-actions-bar table-striped table-bordered dt-responsive nowrap" data-rel="dashbord" cellspacing="0" width="100%"></table>
                </div>
            </div>
        </div>

    </div>
</div>
<!-- end row -->

@section Scripts {

    <script type="text/javascript">
        $(document).ready(function () {
            var tableSettings = {
                url: "GetCustoms",
                language: "@GeneralRes.Language",
                sorting: [[0, 'asc']],
                columns: [
                   {
                       'width': "10%",
                       'data': "id",
                       'name': "PageID",
                       'title': "@SysModelRes.PageID",
                   },
                   {
                       'width': "35%",
                       'data': "name",
                       'name': "@SysModelRes.PageNameTextField",
                       'title': "@SysModelRes.PageName",
                   },
                   {
                       'width': "30%",
                       'data': "group_name",
                       'name': "Group.@SysModelRes.GroupNameTextField",
                       'title': "@SysModelRes.GroupID"
                   },
                   {
                       'width': "25%",
                       'orderable': false,
                       'data': 'id',
                       'render': function (id, type, row) {
                           var command = '<div class="action-buttons">';

                           command += '<a class="btn btn-info btn-sm" data-ajax="true" data-ajax-loading="#loader" data-ajax-loading-duration="100" data-ajax-method="GET" data-ajax-mode="replace" data-ajax-success="FireAccess" data-ajax-update="#AccessSection" href="Edit/' + id + '" ><i class="fa fa-pen"> </i></a> ';

                           command += '<a class="btn btn-danger btn-sm" data-ajax="true" data-ajax-loading="#loader" data-ajax-loading-duration="100" data-ajax-method="GET" data-ajax-mode="replace" data-ajax-success="FireAccess" data-ajax-update="#AccessSection" href="Delete/' + id + '" ><i class="fa fa-trash"> </i></a>';

                           command += '</div>';
                           return command;
                       }
                   }
                ]
            };
            setTable(tableSettings);
        });
    </script>

}

